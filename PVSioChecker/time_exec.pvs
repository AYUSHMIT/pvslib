time_exec[T:TYPE+] : THEORY
BEGIN

  IMPORTING time_fun

  % Time execution of a function
  time_exec(fun:T) : MACRO T =
    prog(tic,
         LET output = fun,
	     (realtime,runtime) = toc,
	     out    = printf("Real Time: ~a (~,3f sec). Run Time: ~a (~,3f sec)~%",
	                    {| hms(realtime), realtime, hms(runtime), runtime |}) IN
	 output)

END time_exec
